# Copyright (C) 2019-present MongoDB, Inc. and subject to applicable commercial license.

global:
    cpp_namespace: "mongo"
    cpp_includes: "kerberos/kerberos_tool_options.h"
    configs:
        source: [ cli, yaml ]

configs:
    help:
        description: 'Produce help message'
        arg_vartype: Switch
    debug:
        description: 'Produce more detailed log messages'
        arg_vartype: Switch
        cpp_varname: 'globalKerberosToolOptions->debug'
    color:
        description: 'Enable colored output'
        arg_vartype: Bool
        cpp_varname: 'globalKerberosToolOptions->color'

    host:
        section: 'Client Options'
        description: 'mongodb server to connect to'
        arg_vartype: String
        cpp_varname: 'globalKerberosToolOptions->host'
    username:
        section: 'Client Options'
        description: 'username for authentication'
        arg_vartype: String
        single_name: u
        requires: client
        cpp_varname: 'globalKerberosToolOptions->username'
    gssapiServiceName:
        section: 'Client Options'
        description: 'Service name to use when authenticating using GSSAPI/Kerberos'
        default: 'mongodb'
        arg_vartype: String
        cpp_varname: 'globalKerberosToolOptions->gssapiServiceName'
    "setParameter.saslHostName":
        section: 'Client Options'
        description: 'Remote host name to use for purpose of GSSAPI/Kerberos authentication'
        short_name: gssapiHostName
        cpp_varname: 'globalKerberosToolOptions->gssapiHostName'
        arg_vartype: String
    "setParameter":
        section: 'Client Options'
        description: 'Set a configurable parameter'
        short_name: setParameter
        arg_vartype: String

    client:
        section: 'Commands'
        description: 'validate a client connection'
        source: cli
        arg_vartype: Switch
        conflicts: server
        requires: username
    server:
        section: 'Commands'
        description: 'validate a server setup'
        source: cli
        arg_vartype: Switch
        conflicts: [client, host]
