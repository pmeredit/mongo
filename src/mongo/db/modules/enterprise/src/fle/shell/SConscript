# -*- mode: python -*-

Import([
    'env',
    'get_option'
])

scriptingEnv = env.Clone()
scriptingEnv.InjectMozJS()

scriptingEnv.Library(
    target='implicit_encrypted_dbclient',
    source=[
        'implicit_encrypted_dbclient.cpp',
    ],
    LIBDEPS_PRIVATE=[
        '../query_analysis/cryptd_query_analysis',
        '$BUILD_DIR/mongo/client/clientdriver_minimal',
        '$BUILD_DIR/mongo/crypto/aead_encryption',
        '$BUILD_DIR/mongo/crypto/symmetric_crypto',
        '$BUILD_DIR/mongo/scripting/scripting',
        '$BUILD_DIR/mongo/shell/encrypted_dbclient',
        '$BUILD_DIR/third_party/shim_mozjs',
    ],
    LIBDEPS_DEPENDENTS=[
        '$BUILD_DIR/mongo/mongo_initializers'
    ]
)
